@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Default theme colors - will be overridden by ThemeContext */
    --color-bg: 30 30 30;
    --color-surface: 37 37 38;
    --color-card: 45 45 45;
    --color-border: 62 62 66;
    --color-text: 212 212 212;
    --color-muted: 156 156 156;
    /* Default primary color (indigo) - will be overridden by ThemeContext */
    --color-primary-500: 99 102 241;
    --color-primary-400: 129 140 248;
    --color-primary-600: 79 70 229;
    --color-primary-700: 67 56 202;
  }

  /* Dark mode class for Tailwind - colors are set dynamically via JS */
  .dark {
    /* Colors are set dynamically by ThemeContext */
  }

  * {
    @apply antialiased;
  }
  
  body {
    @apply bg-bg text-text;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  }
  
  /* Safe area for mobile bottom nav */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Custom animations */
  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}

@layer components {
  .btn-primary {
    @apply bg-primary-500 hover:bg-primary-600 active:bg-primary-700 text-white font-medium px-4 py-2.5 rounded-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-secondary {
    @apply bg-card hover:bg-surface text-text font-medium px-4 py-2.5 rounded-lg border border-border transition-all duration-200 active:scale-95;
  }
  
  .card {
    @apply bg-card border border-border rounded-xl p-4 shadow-lg;
  }
  
  .input {
    @apply bg-surface border border-border text-text rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent w-full;
  }
  
  .text-primary {
    @apply text-primary-500;
  }

  /* Lightweight "Markdown preview" styling (no typography plugin required) */
  .markdown {
    @apply text-sm leading-relaxed break-words;
  }
  .markdown h3 {
    @apply text-base font-bold mt-3 mb-2;
  }
  .markdown h4 {
    @apply text-sm font-semibold mt-3 mb-1;
  }
  .markdown p {
    @apply my-2;
  }
  .markdown ul {
    @apply list-disc pl-5 my-2 space-y-1;
  }
  .markdown ol {
    @apply list-decimal pl-5 my-2 space-y-1;
  }
  .markdown li {
    @apply text-sm;
  }
  .markdown strong {
    @apply font-semibold;
  }
  .markdown code {
    @apply bg-bg/60 border border-border rounded px-1 py-0.5 text-[0.85em];
  }
  .markdown pre {
    @apply bg-bg/60 border border-border rounded-lg p-3 overflow-x-auto my-2;
  }
  .markdown pre code {
    @apply bg-transparent border-0 p-0;
  }
  .markdown table {
    @apply w-full border border-border rounded-lg overflow-hidden my-2;
  }
  .markdown thead {
    @apply bg-bg/60;
  }
  .markdown th,
  .markdown td {
    @apply border-b border-border px-2 py-1 align-top;
  }

  /* Custom scrollbar - hide default */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
  }

  /* Custom thin scrollbar (alternative - visible but minimal) */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(156, 163, 175, 0.3);
    border-radius: 3px;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgba(156, 163, 175, 0.5);
  }
}
